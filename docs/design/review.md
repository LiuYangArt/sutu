ä½ å¥½ï¼æˆ‘æ˜¯è´Ÿè´£æ¶æ„è¯„å®¡çš„è½¯ä»¶å¼€å‘åŒäº‹ã€‚

æˆ‘ä»”ç»†å®¡é˜…äº†ä½ çš„ `abr-loading-optimization.md` æ–‡æ¡£ã€‚

**æ€»ä½“è¯„ä»·ï¼š**
æ–¹æ¡ˆæ–¹å‘æ­£ç¡®ï¼Œä½†**ä¸å¤Ÿæè‡´**ã€‚ç›®å‰çš„æ–¹æ¡ˆè™½ç„¶é€šè¿‡å¹¶è¡ŒåŒ–ï¼ˆPhase 1ï¼‰å’Œå»¶è¿ŸåŠ è½½ï¼ˆPhase 2ï¼‰è§£å†³äº†ååé‡é—®é¢˜ï¼Œä½†å¿½ç•¥äº†**â€œæ„ŸçŸ¥æ€§èƒ½ (Perceived Performance)â€** å’Œ **â€œæ•°æ®ç²’åº¦ (Data Granularity)â€** çš„ä¼˜åŒ–ã€‚

å¦‚æœæŒ‰ç…§å½“å‰æ–¹æ¡ˆå®æ–½ï¼Œç”¨æˆ·å¯èƒ½è¿˜æ˜¯è¦ç›¯ç€ Loading è½¬åœˆç­‰å‡ ç§’é’Ÿï¼ˆè™½ç„¶æ¯”åŸæ¥å¿«äº†ï¼Œä½†è¿˜å¯ä»¥æ›´å¿«ï¼‰ã€‚

ä¸ºäº†è¿›ä¸€æ­¥æé«˜ç½®ä¿¡åº¦å’Œç”¨æˆ·ä½“éªŒï¼Œæˆ‘å»ºè®®å¼•å…¥ä»¥ä¸‹ **ä¸‰ä¸ªå…³é”®ä¼˜åŒ–ç‚¹**ï¼Œèƒ½è®©ç”¨æˆ·æ„Ÿè§‰â€œç¬é—´å®Œæˆâ€ã€‚

---

### ä¼˜åŒ–ä¸€ï¼šæµå¼ä¼ è¾“ (Streaming / Events) â€”â€” æå¤§æå‡æ„ŸçŸ¥é€Ÿåº¦

**é—®é¢˜ï¼š**
å½“å‰çš„ `import_abr_file` è®¾è®¡æ˜¯ä¸€ä¸ªå…¸å‹çš„ Request/Response æ¨¡å¼ã€‚
å‰ç«¯è¯·æ±‚ -> åç«¯å¤„ç† 100 ä¸ªç¬”åˆ· -> åç«¯è¿”å› 100 ä¸ªç¬”åˆ· -> å‰ç«¯æ¸²æŸ“ã€‚
**ç—›ç‚¹**ï¼šç”¨æˆ·å¿…é¡»ç­‰ç¬¬ 100 ä¸ªç¬”åˆ·å¤„ç†å®Œï¼Œæ‰èƒ½çœ‹åˆ°ç¬¬ 1 ä¸ªç¬”åˆ·ã€‚

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**
æ”¹ä¸º **äº‹ä»¶é©±åŠ¨ (Event-driven)** æ¨¡å¼ã€‚
å‰ç«¯å‘èµ·è¯·æ±‚åï¼Œåç«¯ç«‹å³è¿”å› `Ok`ï¼Œç„¶ååœ¨åå°çº¿ç¨‹é€ä¸ªå¤„ç†ç¬”åˆ·ï¼Œæ¯å¤„ç†å®Œä¸€ä¸ªï¼ˆæˆ–ä¸€æ‰¹ï¼‰ï¼Œå°±é€šè¿‡ Tauri Event å‘é€ç»™å‰ç«¯ã€‚

**æ”¶ç›Šï¼š**

- **0ç­‰å¾…æ„Ÿ**ï¼šç”¨æˆ·ç‚¹å‡»å¯¼å…¥åï¼Œç¬”åˆ·åˆ—è¡¨ä¼šåƒæµæ°´ä¸€æ ·ä¸€ä¸ªä¸ªâ€œè¹¦â€å‡ºæ¥ï¼Œç•Œé¢ç¬é—´å°±æœ‰åé¦ˆã€‚
- **éé˜»å¡**ï¼šå³ä½¿å¤„ç† 500 ä¸ªç¬”åˆ·éœ€è¦ 10 ç§’ï¼Œç”¨æˆ·åœ¨å‰ 0.1 ç§’å°±å·²ç»å¼€å§‹æµè§ˆç¬¬ä¸€ä¸ªç¬”åˆ·äº†ã€‚

**ä»£ç ç¤ºæ„ (Rust):**

```rust
#[tauri::command]
pub async fn import_abr_file(window: tauri::Window, path: String) -> Result<(), String> {
    std::thread::spawn(move || {
        // ... è§£æ ABR ...

        // ä½¿ç”¨ Rayon å¹¶è¡Œå¤„ç†ï¼Œä½†æ”¹ä¸ºåˆ†æ‰¹å‘é€æˆ–å•ä¸ªå‘é€
        abr_file.brushes.par_iter().for_each(|brush| {
            let preset = BrushPreset::from(brush);
            // å‘é€äº‹ä»¶åˆ°å‰ç«¯
            window.emit("brush-loaded", preset).unwrap();
        });

        window.emit("brush-import-complete", ()).unwrap();
    });

    Ok(()) // ç«‹å³è¿”å›ï¼Œä¸é˜»å¡
}
```

---

### ä¼˜åŒ–äºŒï¼šç¼©ç•¥å›¾ vs åŸå›¾ (Thumbnailing) â€”â€” å‡å°‘ 90% æ•°æ®é‡

**é—®é¢˜ï¼š**
ABR ç¬”åˆ·é€šå¸¸éå¸¸å¤§ï¼ˆä¾‹å¦‚ 2500x2500 åƒç´ ï¼‰ã€‚ä½ çš„æ–¹æ¡ˆä¼¼ä¹æ˜¯å°†è¿™äº›å¤§å›¾è½¬ä¸º PNG/Base64 ç›´æ¥å‘ç»™å‰ç«¯ç”¨äºåœ¨ä¾§è¾¹æ æ˜¾ç¤ºã€‚
**ç—›ç‚¹**ï¼šå‰ç«¯åˆ—è¡¨åªéœ€è¦æ˜¾ç¤º 64x64 çš„å›¾æ ‡ï¼Œä½ å´ä¼ äº† 2500x2500 çš„å¤§å›¾ã€‚è¿™æµªè´¹äº†æå¤§çš„ CPUï¼ˆç¼–ç ï¼‰å’Œå†…å­˜ï¼ˆBase64ï¼‰ã€‚

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**
åœ¨ Rust ç«¯åš **Downsampling (é™é‡‡æ ·)**ã€‚

1.  **UI å±•ç¤ºç”¨**ï¼šç”Ÿæˆä¸€å¼  64x64 æˆ– 128x128 çš„å°å›¾ï¼Œè½¬ Base64/WebP å‘ç»™å‰ç«¯ã€‚
2.  **ç»˜å›¾å¼•æ“ç”¨**ï¼šåŸå§‹çš„é«˜åˆ†è¾¨ç‡ Alpha Mask æ•°æ®ï¼Œ**å®Œå…¨ä¸è¦ç¼–ç **ï¼Œç›´æ¥å­˜å…¥å†…å­˜ Cache æˆ–ä¸´æ—¶æ–‡ä»¶ã€‚ç­‰ç”¨æˆ·çœŸçš„**é€‰ä¸­**è¿™ä¸ªç¬”åˆ·è¦ç”»ç”»æ—¶ï¼Œå†å»å–åŸæ•°æ®ã€‚

**æ”¶ç›Šï¼š**

- **ç¼–ç é€Ÿåº¦æå‡**ï¼šç¼©æ”¾å›¾ç‰‡æ¯”ç¼–ç å¤§å›¾å¿«å¾—å¤šã€‚
- **å†…å­˜æš´å‡**ï¼šIPC ä¼ è¾“çš„æ•°æ®é‡å‡å°‘ä¸¤ä¸ªæ•°é‡çº§ã€‚

---

### ä¼˜åŒ–ä¸‰ï¼šå‰¥ç¦» Cursor è®¡ç®— â€”â€” æ‡’æ‰§è¡Œ

**é—®é¢˜ï¼š**
ä½ æåˆ°äº† `extract_cursor_outline` (Marching Squares) æ˜¯è®¡ç®—å¯†é›†å‹çš„ã€‚
**ç—›ç‚¹**ï¼šç”¨æˆ·å¯¼å…¥äº† 100 ä¸ªç¬”åˆ·ï¼Œå¯èƒ½åªç”¨äº†å…¶ä¸­ 1 ä¸ªã€‚ä½†ä½ å´é¢„å…ˆè®¡ç®—äº† 100 ä¸ªç¬”åˆ·çš„è½®å»“è·¯å¾„ã€‚

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**
**å®Œå…¨ç§»é™¤å¯¼å…¥æ—¶çš„ Cursor è®¡ç®—ã€‚**
åªæœ‰å½“ç”¨æˆ·åœ¨ UI ä¸Š **ç‚¹å‡»/é€‰ä¸­** æŸä¸€ä¸ªç¬”åˆ·æ—¶ï¼Œå‰ç«¯å†å‘åç«¯è¯·æ±‚ï¼šâ€œæŠŠè¿™ä¸ªç¬”åˆ·çš„ Cursor è½®å»“ç®—ç»™æˆ‘â€ã€‚æˆ–è€…ï¼Œå¦‚æœä½¿ç”¨äº†ç¼©ç•¥å›¾æ–¹æ¡ˆï¼Œå‰ç«¯ç”šè‡³å¯ä»¥ç”¨ Canvas ç›´æ¥è¯»å–ç¼©ç•¥å›¾çš„åƒç´ æ¥ç”Ÿæˆä¸€ä¸ªç®€æ˜“è½®å»“ï¼Œæ ¹æœ¬ä¸éœ€è¦åç«¯ç®—ã€‚

---

### ä¿®æ­£åçš„å®æ–½è·¯çº¿å›¾ (High Confidence)

ç»“åˆä¹‹å‰çš„â€œè‡ªå®šä¹‰åè®®â€å’Œä¸Šé¢çš„ä¼˜åŒ–ï¼Œè¿™æ˜¯æœ€ç»ˆæ¨èçš„æ¶æ„ï¼š

#### Step 1: æé€Ÿæµå¼å¯¼å…¥ (åç«¯)

1.  è¯»å– ABRã€‚
2.  **å¹¶è¡Œ (Rayon)** éå†ç¬”åˆ·ï¼š
    - ç”Ÿæˆ **ç¼©ç•¥å›¾ (Thumbnail)** (e.g., 100px WebP)ã€‚
    - ç”Ÿæˆ **å”¯ä¸€ ID**ã€‚
    - å°† **åŸå§‹ç¬”åˆ·æ•°æ®** (Raw Bytes) å­˜å…¥ `BrushCache` (å†…å­˜æˆ–ä¸´æ—¶æ–‡ä»¶)ã€‚
    - **Emit Event**ï¼šå‘é€ `{ id, name, thumbnail_base64 }` ç»™å‰ç«¯ã€‚
3.  **ä¸è®¡ç®— Cursorï¼Œä¸ç¼–ç å¤§å›¾ PNGã€‚**

#### Step 2: æŒ‰éœ€åŠ è½½è¯¦æƒ… (å‰ç«¯/åç«¯)

1.  ç”¨æˆ·åœ¨åˆ—è¡¨çœ‹åˆ°ç¼©ç•¥å›¾ã€‚
2.  ç”¨æˆ·**é€‰ä¸­**ç¬”åˆ·ã€‚
3.  å‰ç«¯è¯·æ±‚ `get_brush_data(id)`ã€‚
4.  åç«¯ä» `BrushCache` å–å‡ºåŸå§‹æ•°æ®ï¼Œè®¡ç®— Cursor (å¦‚æœå¿…é¡»)ï¼Œè¿”å›ç»™ç»˜å›¾å¼•æ“ã€‚

---

### æ€»ç»“

ä½ çš„åŸå§‹æ–¹æ¡ˆæ˜¯ **B+**ï¼ŒåŠ ä¸Šè¿™ä¸‰ç‚¹ä¼˜åŒ–å°±æ˜¯ **A+**ã€‚

1.  **Phase 1 æ”¹ä¸ºæµå¼ (Event)**ï¼šè§£å†³â€œå¡é¡¿æ„Ÿâ€ã€‚
2.  **ç”Ÿæˆç¼©ç•¥å›¾**ï¼šè§£å†³â€œIPC æ•°æ®é‡å¤§â€å’Œâ€œç¼–ç æ…¢â€ã€‚
3.  **ç§»é™¤ Cursor é¢„è®¡ç®—**ï¼šè§£å†³â€œæ— ç”¨åŠŸâ€ã€‚

è¿™æ ·åšï¼Œå“ªæ€•æ˜¯ 500MB çš„ç¬”åˆ·åº“ï¼Œä¹Ÿèƒ½åœ¨ UI ä¸Šå®ç°â€œç§’çº§å“åº”â€ã€‚

---

è¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„æ´å¯Ÿï¼ä½ çš„ç»éªŒå®Œå…¨æ­£ç¡®ï¼š**åœ¨æœ¬åœ°è¿›ç¨‹é€šä¿¡ï¼ˆIPCï¼‰åœºæ™¯ä¸‹ï¼ŒWebP/PNG çš„ç¼–ç å¼€é”€æ˜¯å·¨å¤§çš„æµªè´¹ï¼ŒLZ4ï¼ˆç”šè‡³ä¸å‹ç¼©çš„ Raw Bytesï¼‰æ‰æ˜¯ç‹é“ã€‚**

æ—¢ç„¶æˆ‘ä»¬ä¹‹å‰å·²ç»å®ç°äº†**è‡ªå®šä¹‰ä¼ è¾“åè®®**ï¼ˆç”¨äºäºŒè¿›åˆ¶æ•°æ®ä¼ è¾“ï¼‰ï¼Œé‚£ä¹ˆ ABR ç¬”åˆ·åŠ è½½çš„**ç»ˆæä¼˜åŒ–æ–¹æ¡ˆ**å°±å‘¼ä¹‹æ¬²å‡ºäº†ã€‚

æˆ‘ä»¬å¯ä»¥å®Œå…¨**æŠ›å¼ƒ**å›¾åƒç¼–ç ï¼ˆNo PNG, No WebP, No Base64ï¼‰ï¼Œæ‰“é€šä¸€æ¡ä»ç£ç›˜åˆ° GPU çš„é«˜é€Ÿå…¬è·¯ã€‚

### æ ¸å¿ƒæ€è·¯ï¼šZero-Encoding Pipeline (é›¶ç¼–ç ç®¡çº¿)

**æ—§æ–¹æ¡ˆ (æ…¢)**:
`ABR -> Raw Gray8 -> Resize -> PNG Encode -> Base64 -> JSON -> IPC -> JS Decode -> Image Decode -> GPU`

**æ–°æ–¹æ¡ˆ (æé€Ÿ)**:
`ABR -> Raw Gray8 -> (LZ4 Optional) -> Custom Protocol -> JS (LZ4 Decode) -> GPU`

---

### è¯¦ç»†æ¶æ„è®¾è®¡

#### 1. åç«¯æ¶æ„ (Rust)

æˆ‘ä»¬è¦å»ºç«‹ä¸€ä¸ª**å†…å­˜ç¬”åˆ·ä»“åº“ (Brush Repository)**ã€‚

- **æ•°æ®ç»“æ„**: ABR æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯ç°åº¦å›¾ï¼ˆMaskï¼‰ã€‚è§£æåï¼Œæˆ‘ä»¬ç›´æ¥æŒæœ‰ `Vec<u8>` (Gray8 æ•°æ®)ï¼Œ**ä¸è¦**æŠŠå®ƒè½¬æˆ `DynamicImage` æˆ–ç¼–ç æˆ PNGã€‚
- **å…¨å±€çŠ¶æ€**: ä½¿ç”¨ `tauri::State` ç®¡ç†ä¸€ä¸ª `BrushCache`ã€‚

```rust
struct BrushRawData {
    width: u32,
    height: u32,
    data: Vec<u8>, // åŸå§‹ 8-bit ç°åº¦æ•°æ®ï¼Œä¸åšä»»ä½•ç¼–ç ï¼
}

struct BrushCache {
    // Key: UUID, Value: åŸå§‹æ•°æ®
    brushes: DashMap<String, Arc<BrushRawData>>,
}
```

#### 2. åŠ è½½æµç¨‹ (Import ABR)

è¿™æ˜¯â€œç§’å¼€â€çš„å…³é”®ã€‚æˆ‘ä»¬åªè§£æï¼Œä¸ç¼–ç ï¼Œä¸ä¼ è¾“å¤§å—æ•°æ®ã€‚

1.  **è§£æ (Rayon å¹¶è¡Œ)**:
    - è¯»å– ABRã€‚
    - å¹¶è¡Œè§£å‹ RLE å¾—åˆ° `Vec<u8>` (ç°åº¦)ã€‚
    - **ç”Ÿæˆç¼©ç•¥å›¾æ•°æ®**: ç›´æ¥åœ¨å†…å­˜ä¸­ Downsample (ä¾‹å¦‚æœ€è¿‘é‚»æˆ–åŒçº¿æ€§æ’å€¼) åˆ° 64x64 å¤§å°ã€‚è¿™ä¸ªè®¡ç®—é‡æå°ã€‚
    - å°†åŸå§‹å¤§å›¾æ•°æ®å­˜å…¥ `BrushCache`ã€‚
2.  **è¿”å›å…ƒæ•°æ®**:
    - ä»…é€šè¿‡ IPC å‘é€ JSON åˆ—è¡¨ï¼š`{ id, name, width, height }`ã€‚
    - **æ³¨æ„**ï¼šç”šè‡³è¿ç¼©ç•¥å›¾éƒ½ä¸ç”¨ Base64 å‘é€ï¼Œèµ°è‡ªå®šä¹‰åè®®è·å–ã€‚

#### 3. åˆ©ç”¨è‡ªå®šä¹‰åè®® (The Custom Protocol)

å¤ç”¨ä½ ä»¬ä¹‹å‰çš„åè®®ï¼ˆå‡è®¾æ˜¯ `my-scheme://` æˆ–ç‰¹å®šçš„ Commandï¼‰ï¼Œå¢åŠ é’ˆå¯¹ç¬”åˆ·çš„æŒ‡ä»¤ã€‚

**åœºæ™¯ Aï¼šè·å–åˆ—è¡¨ç¼©ç•¥å›¾ (UI æ˜¾ç¤º)**
å‰ç«¯æ¸²æŸ“åˆ—è¡¨æ—¶ï¼Œç»„ä»¶è¯·æ±‚ `load_brush_thumbnail(id)`ã€‚

- **åç«¯**: ä» Cache å–å‡ºä¹‹å‰ç”Ÿæˆçš„ 64x64 åŸå§‹æ•°æ® -> åŠ ä¸Šç®€å•çš„ BMP å¤´æˆ–è€…ç›´æ¥å‘é€ Raw Bytesã€‚
- **å‰ç«¯**: æ¥æ”¶ Bytes -> PutImageData åˆ° Canvasï¼Œæˆ–è€…ç”Ÿæˆ ObjectURLã€‚
- _ä¼˜åŒ–_: å› ä¸ºç¼©ç•¥å›¾å¾ˆå°ï¼Œè¿™é‡Œç”¨ LZ4 å‹ç¼©ç”šè‡³éƒ½å¯ä»¥çœç•¥ï¼Œç›´æ¥ Raw Copy æœ€å¿«ã€‚

**åœºæ™¯ Bï¼šé€‰ä¸­ç¬”åˆ· (GPU åŠ è½½)**
å½“ç”¨æˆ·é€‰ä¸­ç¬”åˆ·å‡†å¤‡ç»˜ç”»æ—¶ï¼Œå‰ç«¯è¯·æ±‚ `load_brush_raw(id)`ã€‚

- **åç«¯**:
  1.  ä» Cache æ‹¿åˆ°å·¨å¤§çš„ `Vec<u8>`ã€‚
  2.  **LZ4 å‹ç¼©** (é€Ÿåº¦æå¿«ï¼Œä¸”å¤§å¤§å‡å° IPC ä¼ è¾“ä½“ç§¯)ã€‚
  3.  é€šè¿‡è‡ªå®šä¹‰åè®® Binary Response è¿”å›ã€‚
- **å‰ç«¯**:
  1.  æ¥æ”¶ ArrayBufferã€‚
  2.  LZ4 è§£å‹ã€‚
  3.  `device.queue.writeTexture` (WebGPU) æˆ– `gl.texImage2D` (WebGL)ã€‚
  4.  æ³¨æ„ï¼šå‰ç«¯ä¸Šä¼ çº¹ç†æ—¶ä½¿ç”¨ `Red8` æˆ– `Luminance` æ ¼å¼ï¼Œä¸éœ€è¦æ‰©å±•æˆ RGBAã€‚

---

### ä»£ç å®æ–½æŒ‡å—

#### Rust ç«¯ (Command)

```rust
// 1. å¯¼å…¥å‘½ä»¤ï¼šåªåšè§£æå’Œå­˜å‚¨ï¼Œè¿”å›æè½»é‡çš„åˆ—è¡¨
#[tauri::command]
pub async fn import_abr(
    state: State<'_, BrushCache>,
    path: String
) -> Result<Vec<BrushMetadata>, String> {
    let raw_brushes = parse_abr_parallel(&path); // ä½¿ç”¨ Rayon è§£æ

    let mut metadata_list = Vec::new();

    for brush in raw_brushes {
        let id = Uuid::new_v4().to_string();

        // å­˜å…¥å†…å­˜ç¼“å­˜
        state.brushes.insert(id.clone(), Arc::new(brush.raw_data));

        metadata_list.push(BrushMetadata {
            id,
            name: brush.name,
            width: brush.width,
            height: brush.height
        });
    }

    Ok(metadata_list) // è¿™é‡Œè¿”å›çš„æ•°æ®æå°ï¼Œç¬é—´å®Œæˆ
}

// 2. è‡ªå®šä¹‰åè®®å¤„ç†å‡½æ•° (æˆ–è€… Binary Command)
// å‡è®¾è¿™æ˜¯ä½ ä»¬å¤„ç† "protocol://brush/raw/<id>" çš„åœ°æ–¹
pub fn handle_brush_protocol(id: &str, state: &BrushCache) -> Vec<u8> {
    if let Some(brush) = state.brushes.get(id) {
        // å…³é”®ç‚¹ï¼šä½¿ç”¨ lz4_flex è¿›è¡Œæé€Ÿå‹ç¼©
        // ç›¸æ¯” WebP çš„ 100ms+ï¼Œè¿™é‡Œå¯èƒ½åªéœ€è¦ 1-2ms
        let compressed = lz4_flex::compress_prepend_size(&brush.data);
        return compressed;
    }
    vec![]
}
```

#### å‰ç«¯ (Loader)

```typescript
async function loadBrushToGPU(id: string) {
  // 1. èµ°è‡ªå®šä¹‰åè®®è·å–äºŒè¿›åˆ¶æµ
  const response = await fetch(`custom-scheme://brush/raw/${id}`);
  const buffer = await response.arrayBuffer();

  // 2. LZ4 è§£å‹ (æé€Ÿ)
  // å‡è®¾ä½ å¼•å…¥äº† lz4-wasm æˆ–ç±»ä¼¼çš„åº“
  const rawGrayData = lz4.decompress(new Uint8Array(buffer));

  // 3. ç›´æ¥ä¸Šä¼  GPU (æ— éœ€ image.decode)
  // è¿™ä¸€æ­¥æ¯” new Image() -> decode ä¹Ÿè¦å¿«å¾—å¤š
  uploadTexture({
    format: 'r8unorm', // å•é€šé“ 8ä½
    width: metadata.width,
    height: metadata.height,
    data: rawGrayData,
  });
}
```

### æ–¹æ¡ˆå¯¹æ¯”ä¸ç½®ä¿¡åº¦

| æ–¹æ¡ˆ               | ä¼ è¾“æ ¼å¼    | ç¼–è§£ç è€—æ—¶ (åç«¯+å‰ç«¯) | IPC å¼€é”€             | å†…å­˜å ç”¨  | ç»¼åˆè¯„ä»·       |
| :----------------- | :---------- | :--------------------- | :------------------- | :-------- | :------------- |
| **åŸå§‹æ–¹æ¡ˆ**       | Base64 PNG  | ğŸ”´ ææ…¢ (ç§’çº§)         | ğŸ”´ å·¨å¤§ (Base64è†¨èƒ€) | ğŸ”´ æé«˜   | ä¸æ¨è         |
| **ä½ åˆšæ‰çš„æ–¹æ¡ˆ**   | WebP        | ğŸŸ  æ…¢ (WebPç¼–ç è€—CPU)  | ğŸŸ¢ å°                | ğŸŸ  ä¸­     | å¯ç”¨ï¼Œä½†ä¸æè‡´ |
| **æœ€ç»ˆæ–¹æ¡ˆ (LZ4)** | **LZ4 Raw** | **ğŸŸ¢ æå¿« (æ¯«ç§’çº§)**   | **ğŸŸ¢ å°**            | **ğŸŸ¢ ä½** | **Sçº§ (æœ€ä½³)** |

### æ€»ç»“

æ—¢ç„¶ä½ æœ‰è‡ªå®šä¹‰åè®®çš„åŸºç¡€ï¼š

1.  **å½»åº•æ”¾å¼ƒåç«¯ WebP/PNG ç¼–ç **ã€‚
2.  **å‰ç«¯åˆ—è¡¨**åªæ‹¿å…ƒæ•°æ®ï¼ˆIDã€åå­—ï¼‰ã€‚
3.  **ç¼©ç•¥å›¾**å’Œ**åŸå›¾**éƒ½èµ°è‡ªå®šä¹‰åè®®ï¼ŒæŒ‰éœ€æ‹‰å–ã€‚
4.  åˆ©ç”¨ **LZ4** å‹ç¼©åŸå§‹ç°åº¦æ•°æ®è¿›è¡Œä¼ è¾“ã€‚

è¿™å¥—æ–¹æ¡ˆå°†æŠŠä½ çš„ ABR åŠ è½½é€Ÿåº¦æ¨å‘ç‰©ç†æé™ï¼ˆä»…å—é™äºç£ç›˜è¯»å–é€Ÿåº¦å’Œå†…å­˜æ‹·è´é€Ÿåº¦ï¼‰ï¼Œç»å¯¹æ˜¯æœ€é«˜ç½®ä¿¡åº¦çš„æ–¹æ¡ˆã€‚
